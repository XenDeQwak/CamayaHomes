<div class="admin-container">
  <div class="page-header">
    <h1>Admin Dashboard</h1>
    <span class="admin-badge">üëë Administrator</span>
  </div>

  <div class="admin-section">
    <h2>Your Linked Customers</h2>
    <ul class="customer-list" *ngIf="customers?.length; else noCustomers">
      <li class="customer-item" *ngFor="let c of customers">
        <div class="customer-info">
          <div class="customer-name">{{ c.name }}</div>
          <div class="customer-email">{{ c.email }}</div>
        </div>
      </li>
    </ul>
    <ng-template #noCustomers>
      <p class="empty-state">No customers linked yet</p>
    </ng-template>
  </div>

  <!-- Add Property Section -->
  <div class="admin-section property-section">
    <h2>Add New Property</h2>
    <form class="property-form">
      <div class="form-group">
        <label class="form-label">Property Name</label>
        <input 
          class="form-input" 
          [(ngModel)]="newProperty.name" 
          name="name"
          placeholder="e.g., Beachfront Villa Lot" />
      </div>

      <div class="form-group">
        <label class="form-label">Location</label>
        <input 
          class="form-input" 
          [(ngModel)]="newProperty.location" 
          name="location"
          placeholder="e.g., Camaya Coast, Bataan" />
      </div>

      <div class="form-group">
        <label class="form-label">Description</label>
        <textarea 
          class="form-textarea" 
          [(ngModel)]="newProperty.description" 
          name="description"
          placeholder="Describe the property features and amenities..."></textarea>
      </div>

      <div class="form-group">
        <label class="form-label">Price (‚Ç±)</label>
        <input 
          class="form-input" 
          [(ngModel)]="newProperty.price" 
          name="price"
          type="number" 
          placeholder="e.g., 3500000" />
      </div>

      <button class="admin-button" type="button" (click)="addProperty()">
        Add Property
      </button>
    </form>
  </div>

  <!-- Upload Images Section -->
  <div class="admin-section upload-section">
    <h2>Upload Property Images</h2>
    
    <div class="form-group">
      <label class="form-label">Select Property</label>
      <select class="form-select" [(ngModel)]="selectedPropertyId">
        <option [ngValue]="null">-- Choose a property --</option>
        <option *ngFor="let p of properties" [ngValue]="p.id">{{ p.name }}</option>
      </select>
    </div>

    <div class="form-group">
      <label class="form-label">Choose Images</label>
      <div class="file-upload-wrapper">
        <input 
          type="file" 
          id="fileInput"
          class="file-input"
          (change)="onFileChange($event)" 
          multiple 
          accept="image/*"
          [disabled]="!selectedPropertyId" />
        <label 
          for="fileInput" 
          class="file-label" 
          [class.disabled]="!selectedPropertyId">
          üìÅ Choose Files
        </label>
        <div class="file-info">
          {{ selectedFiles?.length  || 0 }} file(s) selected
        </div>
      </div>
    </div>

    <button 
      class="admin-button upload-button" 
      (click)="uploadImages()" 
      [disabled]="!selectedPropertyId || !selectedFiles">
      Upload Images
    </button>
  </div>
</div>